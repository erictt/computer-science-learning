<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">

    
      <link rel="icon" href="/favicon.png" />
    

    <title>
        
          Eric&#39;s CS Notes
        
    </title>

    <!-- Spectre.css framework -->
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre.min.css">
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-exp.min.css">
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-icons.min.css">

    <!-- theme css & js -->
    
<link rel="stylesheet" href="/css/book.css">

    
<script src="/js/book.js"></script>


    <!-- tocbot -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css">
    
    <!-- katex -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">

    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/zooming/2.1.1/zooming.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    const zooming = new Zooming()
    zooming.listen('.book-content img')
})
</script>

<meta name="generator" content="Hexo 6.0.0"></head>


<body>

<div class="book-container">
  <div class="book-sidebar">
    <div class="book-brand">
  <a href="/">
    <img src="/favicon.png">
    <span>ERIC&#39;S CS NOTES</span>
  </a>
</div>

    <div class="book-menu">
  
</div>


<script src="/js/book-menu.js"></script>

  </div>

  <div class="sidebar-toggle" onclick="sidebar_toggle()" onmouseover="add_inner()" onmouseleave="remove_inner()">
  <div class="sidebar-toggle-inner"></div>
</div>

<script>
function add_inner() {
  let inner = document.querySelector('.sidebar-toggle-inner')
  inner.classList.add('show')  
}

function remove_inner() {
  let inner = document.querySelector('.sidebar-toggle-inner')
  inner.classList.remove('show')
}

function sidebar_toggle() {
    let sidebar_toggle = document.querySelector('.sidebar-toggle')
    let sidebar = document.querySelector('.book-sidebar')
    let content = document.querySelector('.off-canvas-content')
    if (sidebar_toggle.classList.contains('extend')) { // show
        sidebar_toggle.classList.remove('extend')
        sidebar.classList.remove('hide')
        content.classList.remove('extend')
    }
    else { // hide
        sidebar_toggle.classList.add('extend')
        sidebar.classList.add('hide')
        content.classList.add('extend')
    }
}
</script>

  <div class="off-canvas-content">
    <div class="columns">
      <div class="column col-10 col-lg-12">
        <div class="book-navbar">
          <!-- For Responsive Layout -->

<header class="navbar">
  <section class="navbar-section">
    <a onclick="open_sidebar()">
      <i class="icon icon-menu"></i>
    </a>
  </section>
</header>

        </div>
        <div class="book-content">
          <div class="book-post">
  <h1 id="lecture-8"><a class="markdownIt-Anchor" href="#lecture-8"></a> Lecture 8</h1>
<h2 id="the-central-limit-theorem-clt"><a class="markdownIt-Anchor" href="#the-central-limit-theorem-clt"></a> The Central Limit Theorem (CLT)</h2>
<ul>
<li>
<p>Given a sufficiently large sample:</p>
<ol>
<li>The means of the samples in a set of samples (the sample means) will be approximately normally distributed,</li>
<li>This normal distribution will have a mean close to the mean of the population, and</li>
<li>The variance of the sample means (<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>σ</mi><mover accent="true"><mi>x</mi><mo>ˉ</mo></mover><mn>2</mn></msubsup></mrow><annotation encoding="application/x-tex">\sigma_{\bar{x}}^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.061108em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.56778em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mtight"><span class="mord mathdefault mtight">x</span></span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.22222em;"><span class="mtight">ˉ</span></span></span></span></span></span></span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span>) will be close to the variance of the population (<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>σ</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">\sigma^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>) divided by the sample size (N).
<ul>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>σ</mi><mover accent="true"><mi>x</mi><mo>ˉ</mo></mover><mn>2</mn></msubsup><mo>=</mo><mfrac><msup><mi>σ</mi><mn>2</mn></msup><mi>N</mi></mfrac></mrow><annotation encoding="application/x-tex">\sigma_{\bar{x}}^2=\frac{\sigma^2}{N}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.061108em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.56778em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mtight"><span class="mord mathdefault mtight">x</span></span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.22222em;"><span class="mtight">ˉ</span></span></span></span></span></span></span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.36292em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01792em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913142857142857em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></li>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>σ</mi><mover accent="true"><mi>x</mi><mo>ˉ</mo></mover></msub><mo>=</mo><mfrac><mi>σ</mi><msqrt><mi>N</mi></msqrt></mfrac></mrow><annotation encoding="application/x-tex">\sigma_{\bar{x}}=\frac{\sigma}{\sqrt{N}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.24744599999999997em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.56778em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mtight"><span class="mord mathdefault mtight">x</span></span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.22222em;"><span class="mtight">ˉ</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.233392em;vertical-align:-0.538em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.537397em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord sqrt mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322900000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mtight" style="padding-left:0.833em;"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.89229em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail mtight" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,
-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,
-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,
35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,
-221c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467
s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422
s-65,47,-65,47z M834 80H400000v40H845z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.10770999999999997em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">σ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.538em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></li>
<li>Reference:
<ul>
<li><a target="_blank" rel="noopener" href="https://www.khanacademy.org/math/statistics-probability/sampling-distributions-library/sample-means/v/central-limit-theorem">Sampling distribution of a sample mean (Khan Academy)</a></li>
<li><a target="_blank" rel="noopener" href="http://onlinestatbook.com/stat_sim/sampling_dist/index.html">Simulation (onlinestatbook.com)</a></li>
</ul>
</li>
<li>More details in <a href="lecture-9.md#standard-error">lecture 9</a></li>
</ul>
</li>
</ol>
</li>
<li>
<p>A sample to prove: point 1 and point 2.</p>
<ul>
<li>Test with a six-sided die
<ul>
<li>roll 100000 times(samples). Every time roll once, and get the mean values(the means of the samples).
<ul>
<li>Get mean and STD with the 100000 results</li>
</ul>
</li>
<li>roll 20000 times(samples). Every time roll 50 dies, and get the mean values(the means of the samples).
<ul>
<li>Get mean and STD with the 20000 results</li>
</ul>
</li>
<li>Base on the CLT, the test results should be normal distributed</li>
</ul>
</li>
</ul>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random, pylab</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getMeanAndStd</span>(<span class="params">vals</span>):</span><br><span class="line">    mean = <span class="built_in">sum</span>(vals)/<span class="built_in">float</span>(<span class="built_in">len</span>(vals))</span><br><span class="line">    std = (<span class="built_in">sum</span>([(x-mean)**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> vals])/<span class="built_in">len</span>(vals))**<span class="number">0.5</span></span><br><span class="line">    <span class="keyword">return</span> (mean, std)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">plotMeans</span>(<span class="params">numDice, numRolls, numBins, legend, color, style</span>):</span><br><span class="line"></span><br><span class="line">    means = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(numRolls//numDice):</span><br><span class="line">        vals = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(numDice):</span><br><span class="line">            vals += <span class="number">5</span>*random.random()</span><br><span class="line">        means.append(vals/<span class="built_in">float</span>(numDice))</span><br><span class="line">    </span><br><span class="line">    pylab.hist(means, numBins, color = color, label = legend,</span><br><span class="line">               weights = pylab.array(<span class="built_in">len</span>(means)*[<span class="number">1</span>])/<span class="built_in">len</span>(means),</span><br><span class="line">               hatch = style)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> getMeanAndStd(means)</span><br><span class="line"></span><br><span class="line">mean, std = plotMeans(<span class="number">1</span>, <span class="number">1000000</span>, <span class="number">19</span>, <span class="string">&#x27;1 die&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;*&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Mean of rolling 1 die =&#x27;</span>, <span class="built_in">str</span>(mean) + <span class="string">&#x27;,&#x27;</span>, <span class="string">&#x27;Std =&#x27;</span>, std)</span><br><span class="line"></span><br><span class="line">mean, std = plotMeans(<span class="number">50</span>, <span class="number">1000000</span>, <span class="number">19</span>, <span class="string">&#x27;Mean of 50 dice&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, <span class="string">&#x27;//&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Mean of rolling 50 dice =&#x27;</span>, <span class="built_in">str</span>(mean) + <span class="string">&#x27;,&#x27;</span>, <span class="string">&#x27;Std =&#x27;</span>, std)</span><br><span class="line"></span><br><span class="line">pylab.title(<span class="string">&#x27;Rolling Continuous Dice&#x27;</span>)</span><br><span class="line">pylab.xlabel(<span class="string">&#x27;Value&#x27;</span>)</span><br><span class="line">pylab.ylabel(<span class="string">&#x27;Probability&#x27;</span>)</span><br><span class="line">pylab.legend()</span><br></pre></td></tr></table></figure>
  <img src="https://i.imgur.com/xEj6BKF.jpg" style="width:400px"/>
<ul>
<li>Conclusion:
<ul>
<li>It doesn’t matter what the shape of the distribution of values happens to be</li>
<li>If we are trying to estimate the mean of a population using sufficiently large samples</li>
<li>The CLT allows us to use the empirical rule when computing confidence intervals</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="monte-carlo-simulation"><a class="markdownIt-Anchor" href="#monte-carlo-simulation"></a> Monte Carlo Simulation</h2>
<h3 id="finding-π"><a class="markdownIt-Anchor" href="#finding-π"></a> Finding π</h3>
<ul>
<li>
<p>Think about inscribing a circle in a square with sides of length 2, so that the radius, r, of the circle is of length 1. (Invented by the French mathematicians Buffon (17071788) and Laplace (1749-1827))</p>
<ul>
<li>
<img src="https://i.imgur.com/1PQdu4V.jpg" style="width:200px" />
</li>
<li>By the definition of π, area = πr^2 . Since r is 1, π = area.</li>
<li>If the locations of the needles are truly random, we know that,
<ul>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mtext>needles in circle</mtext><mtext>needles in square</mtext></mfrac><mo>=</mo><mfrac><mtext>area of circle</mtext><mtext>area of square</mtext></mfrac></mrow><annotation encoding="application/x-tex">\frac{\text{needles in circle}}{\text{needles in square}}=\frac{\text{area of circle}}{\text{area of square}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3612159999999998em;vertical-align:-0.481108em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801079999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">needles in square</span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">needles in circle</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.481108em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.3612159999999998em;vertical-align:-0.481108em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801079999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">area of square</span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">area of circle</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.481108em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></li>
</ul>
</li>
<li>solving for the area of the circle,
<ul>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext>area of circle</mtext><mo>=</mo><mfrac><mrow><mtext>area of sqaure </mtext><mo>∗</mo><mtext> needles in circle</mtext></mrow><mtext>needles in square</mtext></mfrac></mrow><annotation encoding="application/x-tex">\text{area of circle} = \frac{\text{area of sqaure}\ *\ \text{needles in circle}}{\text{needles in square}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord text"><span class="mord">area of circle</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.4133239999999998em;vertical-align:-0.481108em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322159999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">needles in square</span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.446108em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">area of sqaure</span></span><span class="mspace mtight"><span class="mtight"> </span></span><span class="mbin mtight">∗</span><span class="mspace mtight"><span class="mtight"> </span></span><span class="mord text mtight"><span class="mord mtight">needles in circle</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.481108em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></li>
</ul>
</li>
<li>Recall that the area of a 2 by 2 square is 4, so,
<ul>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext>area of circle</mtext><mo>=</mo><mfrac><mrow><mn>4</mn><mo>∗</mo><mtext>needles in circle</mtext></mrow><mtext>needles in square</mtext></mfrac></mrow><annotation encoding="application/x-tex">\text{area of circle} = \frac{4 * \text{needles in circle}}{\text{needles in square}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord text"><span class="mord">area of circle</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.3612159999999998em;vertical-align:-0.481108em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801079999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">needles in square</span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mbin mtight">∗</span><span class="mord text mtight"><span class="mord mtight">needles in circle</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.481108em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></li>
<li>in this case <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext>area of circle</mtext><mo>=</mo><mi>π</mi><msup><mi>r</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">\text{area of circle} = {\pi}r^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord text"><span class="mord">area of circle</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">π</span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>, and r=1, so:
<ul>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>π</mi><mo>=</mo><mfrac><mrow><mn>4</mn><mo>∗</mo><mtext>needles in circle</mtext></mrow><mtext>needles in square</mtext></mfrac></mrow><annotation encoding="application/x-tex">\pi = \frac{4 * \text{needles in circle}}{\text{needles in square}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">π</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.3612159999999998em;vertical-align:-0.481108em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801079999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">needles in square</span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mbin mtight">∗</span><span class="mord text mtight"><span class="mord mtight">needles in circle</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.481108em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></li>
</ul>
</li>
</ul>
</li>
</ul>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getMeanAndStd</span>(<span class="params">data</span>):</span><br><span class="line">    mean = <span class="built_in">sum</span>(data)/<span class="built_in">float</span>(<span class="built_in">len</span>(data))</span><br><span class="line">    std = (<span class="built_in">sum</span>([(d-mean)**<span class="number">2</span> <span class="keyword">for</span> d <span class="keyword">in</span> data])/<span class="built_in">len</span>(data))**<span class="number">0.5</span></span><br><span class="line">    <span class="keyword">return</span> (mean, std)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">throwNeedls</span>(<span class="params">numNeedles</span>):</span><br><span class="line">    inCircle = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> needle <span class="keyword">in</span> <span class="built_in">range</span>(numNeedles):</span><br><span class="line">        <span class="keyword">if</span> (random.random()**<span class="number">2</span> + random.random()**<span class="number">2</span>)**<span class="number">0.5</span> &lt;= <span class="number">1.0</span>:</span><br><span class="line">            inCircle+=<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">4</span>*inCircle/numNeedles</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getEst</span>(<span class="params">numNeedles, numTrails</span>):</span><br><span class="line">    estPis = []</span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">range</span>(numTrails):</span><br><span class="line">        estPis.append(throwNeedls(numNeedles))</span><br><span class="line">    <span class="keyword">return</span> getMeanAndStd(estPis)</span><br><span class="line"></span><br><span class="line"><span class="comment"># we want 95% (an arbitrary choice of accuracy) confidence interval with +- 0.005 precision</span></span><br><span class="line"><span class="comment"># 95% =&gt; 0.95 =&gt; 0.475*2</span></span><br><span class="line"><span class="comment"># check the z-table 0.475 =&gt; 1.96 std</span></span><br><span class="line"><span class="comment"># so we are looking for 1.96 std less that precision</span></span><br><span class="line"><span class="comment"># z-table: https://en.wikipedia.org/wiki/Standard_normal_table</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">estPi</span>(<span class="params">precision, numTrails</span>):</span><br><span class="line">    numNeedles = <span class="number">1000</span></span><br><span class="line">    std = precision <span class="comment"># just initial the value of std, can be any numbers large than precision</span></span><br><span class="line">    <span class="keyword">while</span>(std * <span class="number">1.96</span> &gt;= precision):</span><br><span class="line">        mean, std = getEst(numNeedles, numTrails)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Mean=&quot;</span>+<span class="built_in">str</span>(mean)+<span class="string">&quot;, Std=&quot;</span>+<span class="built_in">str</span>(<span class="built_in">round</span>(std, <span class="number">6</span>))+<span class="string">&quot;, Needls=&quot;</span>+<span class="built_in">str</span>(numNeedles))</span><br><span class="line">        numNeedles *= <span class="number">2</span> </span><br><span class="line">        </span><br><span class="line">random.seed(<span class="number">0</span>)</span><br><span class="line">estPi(<span class="number">0.005</span>, <span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p><a target="_blank" rel="noopener" href="https://github.com/erictt/computer-science-learning/blob/master/computational-thinking/unit-3/lecture-8-2.py">more exercise</a></p>
</li>
<li>
<p>In general, to estimate the area of some region R</p>
<ol>
<li>Pick an enclosing region, E, such that the area of E is easy to calculate and R lies completely within E.</li>
<li>Pick a set of random points that lie within E.</li>
<li>Let F be the fraction of the points that fall within R.</li>
<li>Multiply the area of E by F.</li>
</ol>
</li>
</ul>
</li>
</ul>

</div>


  <div class="book-comments">
    




  </div>



<script src="/js/book-post.js"></script>


<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>

<!-- To automatically render math in text elements, include the auto-render extension: -->
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
            delimiters: [
                {left: "$$", right: "$$", display: true},
                {left: "$", right: "$", display: false}
            ]
        });
    });
</script>

        </div>
      </div>
      <div class="column col-2 hide-lg">
        <div class="book-post-info">
  
    <div class="book-post-meta">
  
  <div class="divider"></div>
</div>

  

  <div class="book-tocbot">
</div>
<div class="book-tocbot-menu">
  <a class="book-toc-expand" onclick="expand_toc()">Expand all</a>
  <a onclick="go_top()">Back to top</a>
  <a onclick="go_bottom()">Go to bottom</a>
</div>


<script src="/js/book-toc.js"></script>

</div>

      </div>
    </div>
  </div>
  
  <a class="off-canvas-overlay" onclick="hide_canvas()"></a>
</div>

</body>
</html>


<script src="/js/book.js"></script>
