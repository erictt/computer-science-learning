<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">

    
      <link rel="icon" href="/favicon.png" />
    

    <title>
        
          Eric&#39;s CS Notes
        
    </title>

    <!-- Spectre.css framework -->
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre.min.css">
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-exp.min.css">
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-icons.min.css">

    <!-- theme css & js -->
    
<link rel="stylesheet" href="/css/book.css">

    
<script src="/js/book.js"></script>


    <!-- tocbot -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css">
    
    <!-- katex -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">

    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/zooming/2.1.1/zooming.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    const zooming = new Zooming()
    zooming.listen('.book-content img')
})
</script>

<meta name="generator" content="Hexo 6.0.0"></head>


<body>

<div class="book-container">
  <div class="book-sidebar">
    <div class="book-brand">
  <a href="/">
    <img src="/favicon.png">
    <span>ERIC&#39;S CS NOTES</span>
  </a>
</div>

    <div class="book-menu">
  
</div>


<script src="/js/book-menu.js"></script>

  </div>

  <div class="sidebar-toggle" onclick="sidebar_toggle()" onmouseover="add_inner()" onmouseleave="remove_inner()">
  <div class="sidebar-toggle-inner"></div>
</div>

<script>
function add_inner() {
  let inner = document.querySelector('.sidebar-toggle-inner')
  inner.classList.add('show')  
}

function remove_inner() {
  let inner = document.querySelector('.sidebar-toggle-inner')
  inner.classList.remove('show')
}

function sidebar_toggle() {
    let sidebar_toggle = document.querySelector('.sidebar-toggle')
    let sidebar = document.querySelector('.book-sidebar')
    let content = document.querySelector('.off-canvas-content')
    if (sidebar_toggle.classList.contains('extend')) { // show
        sidebar_toggle.classList.remove('extend')
        sidebar.classList.remove('hide')
        content.classList.remove('extend')
    }
    else { // hide
        sidebar_toggle.classList.add('extend')
        sidebar.classList.add('hide')
        content.classList.add('extend')
    }
}
</script>

  <div class="off-canvas-content">
    <div class="columns">
      <div class="column col-10 col-lg-12">
        <div class="book-navbar">
          <!-- For Responsive Layout -->

<header class="navbar">
  <section class="navbar-section">
    <a onclick="open_sidebar()">
      <i class="icon icon-menu"></i>
    </a>
  </section>
</header>

        </div>
        <div class="book-content">
          <div class="book-post">
  <h1 id="lecture-6-7-stochastic-programs-inferential-statistics"><a class="markdownIt-Anchor" href="#lecture-6-7-stochastic-programs-inferential-statistics"></a> Lecture 6-7 - Stochastic Programs &amp; Inferential Statistics</h1>
<h2 id="stochastic-programs"><a class="markdownIt-Anchor" href="#stochastic-programs"></a> Stochastic Programs</h2>
<ul>
<li>A stochastic model is one in which randomness is present, and variable states are not described by unique values, but rather by <strong>probability distributions</strong>. The behavior of this model cannot be entirely predicted.
<ul>
<li>events are <strong>independent</strong> of each other</li>
<li>Probabilities are always in the range <strong>0 to 1</strong>. 0 if impossible, and 1 if guaranteed.</li>
<li>If the probability of an event occurring is <strong>p</strong>, the probability of it not occurring must be <strong>1-p</strong>.</li>
</ul>
</li>
</ul>
<h2 id="random-walk"><a class="markdownIt-Anchor" href="#random-walk"></a> Random Walk</h2>
<ul>
<li>The reason we look at random walk is:
<ul>
<li>it is a good example of how to use abstract data types and inheritance to structure programs in general and simulations in particular.</li>
</ul>
</li>
</ul>
<h3 id="defines"><a class="markdownIt-Anchor" href="#defines"></a> Defines</h3>
<ul>
<li>Location
<ul>
<li><code>x</code>, <code>y</code> : coordinates.</li>
<li><code>move(deltaX, deltaY)</code>: move self with deltaX, deltaY</li>
<li><code>getX()</code>, <code>getY()</code></li>
<li><code>distFrom(otherLocation)</code>: check the distance between current location with otherLocation</li>
</ul>
</li>
<li>Field
<ul>
<li><code>drunks</code>: list of drunk objects</li>
<li><code>addDrunk(drunk, loc)</code>: add a drunk with its location into Fields’ <code>drunks</code></li>
<li><code>moveDrunk(drunk)</code>: move the drunk’s <code>location</code></li>
<li><code>getLoc(drunk)</code>: get the drunk’s <code>location</code></li>
</ul>
</li>
<li>Drunk(object)
<ul>
<li><code>name</code>: it’s name</li>
</ul>
</li>
<li>UsualDrunk(Drunk)
<ul>
<li><code>takeStep()</code>: move one step to left/right/up/down direction</li>
</ul>
</li>
<li>ColdDrunk(Drunk)
<ul>
<li><code>takeStep()</code>: move two steps towards south, the others are the same with UsualDrunk</li>
</ul>
</li>
</ul>
<h3 id="simulations"><a class="markdownIt-Anchor" href="#simulations"></a> Simulations</h3>
<ul>
<li>try 10, 100, 1000, 10000 steps with UsualDrunk and ColdDrunk</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">walk</span>(<span class="params">f, d, numSteps</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Assumes: f a Field, d a Drunk in f, and numSteps an int &gt;= 0.</span></span><br><span class="line"><span class="string">       Moves d numSteps times, and returns the distance between</span></span><br><span class="line"><span class="string">       the final location and the location at the start of the </span></span><br><span class="line"><span class="string">       walk.&quot;&quot;&quot;</span></span><br><span class="line">    start = f.getLoc(d)</span><br><span class="line">    <span class="keyword">for</span> s <span class="keyword">in</span> <span class="built_in">range</span>(numSteps):</span><br><span class="line">        f.moveDrunk(d)</span><br><span class="line">    <span class="keyword">return</span> start.distFrom(f.getLoc(d))</span><br><span class="line">    </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">simWalks</span>(<span class="params">numSteps, numTrials, dClass</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Assumes numSteps an int &gt;= 0, numTrials an int &gt; 0,</span></span><br><span class="line"><span class="string">         dClass a subclass of Drunk</span></span><br><span class="line"><span class="string">       Simulates numTrials walks of numSteps steps each.</span></span><br><span class="line"><span class="string">       Returns a list of the final distances for each trial&quot;&quot;&quot;</span></span><br><span class="line">    Homer = dClass()</span><br><span class="line">    origin = Location(<span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">    distances = []</span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">range</span>(numTrials):</span><br><span class="line">        f = Field()</span><br><span class="line">        f.addDrunk(Homer, origin)</span><br><span class="line">        distances.append(<span class="built_in">round</span>(walk(f, Homer, numSteps), <span class="number">1</span>))</span><br><span class="line">    <span class="keyword">return</span> distances</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">styleIterator</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, styles</span>):</span><br><span class="line">        self.index = <span class="number">0</span></span><br><span class="line">        self.styles = styles</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">nextStyle</span>(<span class="params">self</span>):</span><br><span class="line">        result = self.styles[self.index]</span><br><span class="line">        <span class="keyword">if</span> self.index == <span class="built_in">len</span>(self.styles) - <span class="number">1</span>:</span><br><span class="line">            self.index = <span class="number">0</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.index += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">simDrunk</span>(<span class="params">numTrials, dClass, walkLengths</span>):</span><br><span class="line">    meanDistances = []</span><br><span class="line">    <span class="keyword">for</span> numSteps <span class="keyword">in</span> walkLengths:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Starting simulation of&#x27;</span>,</span><br><span class="line">              numSteps, <span class="string">&#x27;steps&#x27;</span>)</span><br><span class="line">        trials = simWalks(numSteps, numTrials, dClass)</span><br><span class="line">        mean = <span class="built_in">sum</span>(trials)/<span class="built_in">len</span>(trials)</span><br><span class="line">        meanDistances.append(mean)</span><br><span class="line">    <span class="keyword">return</span> meanDistances</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">simAll</span>(<span class="params">drunkKinds, walkLengths, numTrials</span>):</span><br><span class="line">    styleChoice = styleIterator((<span class="string">&#x27;m-&#x27;</span>, <span class="string">&#x27;b--&#x27;</span>, <span class="string">&#x27;g-.&#x27;</span>))</span><br><span class="line">    <span class="keyword">for</span> dClass <span class="keyword">in</span> drunkKinds:</span><br><span class="line">        curStyle = styleChoice.nextStyle()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Starting simulation of&#x27;</span>, dClass.__name__)</span><br><span class="line">        means = simDrunk(numTrials, dClass, walkLengths)</span><br><span class="line">        pylab.plot(walkLengths, means, curStyle,</span><br><span class="line">                   label = dClass.__name__)</span><br><span class="line">    pylab.title(<span class="string">&#x27;Mean Distance from Origin (&#x27;</span></span><br><span class="line">                + <span class="built_in">str</span>(numTrials) + <span class="string">&#x27; trials)&#x27;</span>)</span><br><span class="line">    pylab.xlabel(<span class="string">&#x27;Number of Steps&#x27;</span>)</span><br><span class="line">    pylab.ylabel(<span class="string">&#x27;Distance from Origin&#x27;</span>)</span><br><span class="line">    pylab.legend(loc = <span class="string">&#x27;best&#x27;</span>)</span><br><span class="line"></span><br><span class="line">random.seed(<span class="number">0</span>)</span><br><span class="line">numSteps = (<span class="number">10</span>,<span class="number">100</span>,<span class="number">1000</span>,<span class="number">10000</span>)</span><br><span class="line">simAll((UsualDrunk, ColdDrunk), numSteps, <span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<img src="https://i.imgur.com/ejWtMNt.jpg" style="width:400px"/>
<ul>
<li>plot every final locations</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">getFinalLocs</span>(<span class="params">numSteps, numTrials, dClass</span>):</span><br><span class="line">    locs = []</span><br><span class="line">    d = dClass()</span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">range</span>(numTrials):</span><br><span class="line">        f = Field()</span><br><span class="line">        f.addDrunk(d, Location(<span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line">        <span class="keyword">for</span> s <span class="keyword">in</span> <span class="built_in">range</span>(numSteps):</span><br><span class="line">            f.moveDrunk(d)</span><br><span class="line">        locs.append(f.getLoc(d))</span><br><span class="line">    <span class="keyword">return</span> locs</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">plotLocs</span>(<span class="params">drunkKinds, numSteps, numTrials</span>):</span><br><span class="line">    styleChoice = styleIterator((<span class="string">&#x27;k+&#x27;</span>, <span class="string">&#x27;r^&#x27;</span>, <span class="string">&#x27;mo&#x27;</span>))</span><br><span class="line">    <span class="keyword">for</span> dClass <span class="keyword">in</span> drunkKinds:</span><br><span class="line">        locs = getFinalLocs(numSteps, numTrials, dClass)</span><br><span class="line">        xVals, yVals = [], []</span><br><span class="line">        <span class="keyword">for</span> loc <span class="keyword">in</span> locs:</span><br><span class="line">            xVals.append(loc.getX())</span><br><span class="line">            yVals.append(loc.getY())</span><br><span class="line">        xVals = pylab.array(xVals)</span><br><span class="line">        yVals = pylab.array(yVals)</span><br><span class="line">        meanX = <span class="built_in">sum</span>(<span class="built_in">abs</span>(xVals))/<span class="built_in">len</span>(xVals)</span><br><span class="line">        meanY = <span class="built_in">sum</span>(<span class="built_in">abs</span>(yVals))/<span class="built_in">len</span>(yVals)</span><br><span class="line">        curStyle = styleChoice.nextStyle()</span><br><span class="line">        pylab.plot(xVals, yVals, curStyle,</span><br><span class="line">                      label = dClass.__name__ +\</span><br><span class="line">                      <span class="string">&#x27; mean abs dist = &lt;&#x27;</span></span><br><span class="line">                      + <span class="built_in">str</span>(meanX) + <span class="string">&#x27;, &#x27;</span> + <span class="built_in">str</span>(meanY) + <span class="string">&#x27;&gt;&#x27;</span>)</span><br><span class="line">    pylab.title(<span class="string">&#x27;Location at End of Walks (&#x27;</span></span><br><span class="line">                + <span class="built_in">str</span>(numSteps) + <span class="string">&#x27; steps)&#x27;</span>)</span><br><span class="line">    pylab.ylim(-<span class="number">1000</span>, <span class="number">1000</span>)</span><br><span class="line">    pylab.xlim(-<span class="number">1000</span>, <span class="number">1000</span>)</span><br><span class="line">    pylab.xlabel(<span class="string">&#x27;Steps East/West of Origin&#x27;</span>)</span><br><span class="line">    pylab.ylabel(<span class="string">&#x27;Steps North/South of Origin&#x27;</span>)</span><br><span class="line">    pylab.legend(loc = <span class="string">&#x27;upper left&#x27;</span>)</span><br><span class="line"></span><br><span class="line">random.seed(<span class="number">0</span>)</span><br><span class="line">plotLocs((UsualDrunk, ColdDrunk), <span class="number">10000</span>, <span class="number">1000</span>)</span><br></pre></td></tr></table></figure>
<img src="https://i.imgur.com/lyiuPUT.jpg" style="width:400px"/>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/erictt/computer-science-learning/blob/master/computational-thinking/unit-2/lecture6-segment3.py">complete code</a></li>
</ul>
<h2 id="inferential-statistics"><a class="markdownIt-Anchor" href="#inferential-statistics"></a> Inferential Statistics</h2>
<ul>
<li>Definition:
<ul>
<li>use simulations to estimate the value of an unknown quantity by making use of the principle of <strong>inferential statistics</strong>.</li>
</ul>
</li>
<li>Detail explanation
<ul>
<li><code>Population</code>: a set of examples</li>
<li><code>Sample</code>: a proper subset of a population</li>
<li><code>Goal</code>: Estimate some statistic about the population based on statistics about the sample</li>
<li><code>Key fact</code>: If the sample is <strong>random</strong>, it tends to exhibit the same properties as the population from which it is drawn</li>
</ul>
</li>
<li><strong>Law of Large Number</strong>: In repeated independent experiments (e.g., flipping a fair coin 100 times and counting the fraction of heads) with the same expected value (0.5 in this case), the average value of the experiments approaches the expected value(平均值趋近于期望值) as the number of experiments goes to infinity.
<ul>
<li><strong>Gambler’s Fallacy</strong>: If deviations from expected behavior occur, these deviations are likely to be evened out by opposite deviations in the future.
<ol>
<li>that “large” is a relative concept.</li>
<li>the law of large numbers does not imply that the absolute difference between the number of heads and the number of tails decreases as the number of flips increases. In fact, we can expect that number to increase.</li>
<li>What decreases is the ratio of the absolute difference to the number of flips.</li>
</ol>
</li>
</ul>
</li>
</ul>
<h3 id="simulation"><a class="markdownIt-Anchor" href="#simulation"></a> Simulation</h3>
<h4 id="the-ratio-headstails-the-law-of-large-number"><a class="markdownIt-Anchor" href="#the-ratio-headstails-the-law-of-large-number"></a> The ratio heads/tails (the law of large number)</h4>
<ul>
<li>
<p>How many samples do we need to look at before we can have justified confidence in our answer?</p>
</li>
<li>
<p><strong>variance</strong> is measure of how much spread there is in the possible different outcomes, which can help us to justify.</p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext>variance</mtext><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><msub><mo>∑</mo><mrow><mi>x</mi><mo>∈</mo><mi>X</mi></mrow></msub><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>−</mo><mi>μ</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></mrow><mrow><mo stretchy="false">∣</mo><mi>X</mi><mo stretchy="false">∣</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{variance}(X) = \frac{\sum_{x\in{X}}{(x-\mu)^{2}}}{\lvert{X}\rvert}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">variance</span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.698477em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.178477em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">∣</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.07847em;">X</span></span><span class="mclose mtight">∣</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.554557em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16665428571428575em;"><span style="top:-2.1785614285714283em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.07847em;">X</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3493671428571429em;"><span></span></span></span></span></span></span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight">x</span><span class="mbin mtight">−</span><span class="mord mathdefault mtight">μ</span><span class="mclose mtight"><span class="mclose mtight">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913142857142857em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></li>
</ul>
</li>
<li>
<p><strong>standard deviation</strong> tells us what fraction of the values are close to the mean. If many values are relatively close to the mean, the standard deviation is relatively small.</p>
<ul>
<li>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>σ</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><msqrt><mrow><mfrac><mn>1</mn><mrow><mo stretchy="false">∣</mo><mi>X</mi><mo stretchy="false">∣</mo></mrow></mfrac><msub><mo>∑</mo><mrow><mi>x</mi><mo>∈</mo><mi>X</mi></mrow></msub><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>−</mo><mi>μ</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></mrow></msqrt></mrow><annotation encoding="application/x-tex">\sigma(X) = \sqrt{\frac{1}{\lvert{X}\rvert}\sum_{x\in{X}}{(x-\mu)^{2}}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.84em;vertical-align:-0.6924460000000001em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.147554em;"><span class="svg-align" style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">∣</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.07847em;">X</span></span><span class="mclose mtight">∣</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.17862099999999992em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.07847em;">X</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.32708000000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">μ</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.1075539999999995em;"><span class="pstrut" style="height:3.8em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.8800000000000001em;"><svg width='400em' height='1.8800000000000001em' viewBox='0 0 400000 1944' preserveAspectRatio='xMinYMin slice'><path d='M1001,80H400000v40H1013.1s-83.4,268,-264.1,840c-180.7,
572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,
-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744c-10,12,-21,25,-33,39s-32,39,-32,39
c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30c26.7,-32.7,52,-63,76,-91s52,-60,52,-60
s208,722,208,722c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,
-658.5c53.7,-170.3,84.5,-266.8,92.5,-289.5c4,-6.7,10,-10,18,-10z
M1001 80H400000v40H1013z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6924460000000001em;"><span></span></span></span></span></span></span></span></span></p>
<ul>
<li>where |X| is the size of the collection and (<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>μ</mi></mrow><annotation encoding="application/x-tex">\mu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">μ</span></span></span></span>) its mean.</li>
</ul>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">stdDev</span>(<span class="params">X</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Assumes that X is a list of numbers.</span></span><br><span class="line"><span class="string">        Returns the standard deviation of X&quot;&quot;&quot;</span></span><br><span class="line">    mean = <span class="built_in">float</span>(<span class="built_in">sum</span>(X))/<span class="built_in">len</span>(X) </span><br><span class="line">    tot = <span class="number">0.0</span> </span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> X:</span><br><span class="line">        tot += (x - mean)**<span class="number">2</span> </span><br><span class="line">    <span class="keyword">return</span> (tot/<span class="built_in">len</span>(X))**<span class="number">0.5</span> <span class="comment">#Square root of mean difference</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>For example, flip coins exponentially, from 2^4 to 2^20, each times we flip 20 times to get the mean values with standard deviation function.</p>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Page 160, Figure 12.4</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">stdDev</span>(<span class="params">X</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Assumes that X is a list of numbers.</span></span><br><span class="line"><span class="string">       Returns the standard deviation of X&quot;&quot;&quot;</span></span><br><span class="line">    mean = <span class="built_in">float</span>(<span class="built_in">sum</span>(X))/<span class="built_in">len</span>(X)</span><br><span class="line">    tot = <span class="number">0.0</span></span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> X:</span><br><span class="line">        tot += (x - mean)**<span class="number">2</span></span><br><span class="line">    <span class="keyword">return</span> (tot/<span class="built_in">len</span>(X))**<span class="number">0.5</span> <span class="comment">#Square root of mean difference</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#Page 161, Figure 12.5</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">makePlot</span>(<span class="params">xVals, yVals, title, xLabel, yLabel, style,</span></span><br><span class="line"><span class="params">             logX = <span class="literal">False</span>, logY = <span class="literal">False</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Plots xVals vs. yVals with supplied titles and labels.&quot;&quot;&quot;</span></span><br><span class="line">    pylab.figure()</span><br><span class="line">    pylab.title(title)</span><br><span class="line">    pylab.xlabel(xLabel)</span><br><span class="line">    pylab.ylabel(yLabel)</span><br><span class="line">    pylab.plot(xVals, yVals, style)</span><br><span class="line">    <span class="keyword">if</span> logX:</span><br><span class="line">        pylab.semilogx()</span><br><span class="line">    <span class="keyword">if</span> logY:</span><br><span class="line">        pylab.semilogy()</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">runTrial</span>(<span class="params">numFlips</span>):</span><br><span class="line">    numHeads = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(numFlips):</span><br><span class="line">        <span class="keyword">if</span> random.random() &lt; <span class="number">0.5</span>:</span><br><span class="line">            numHeads += <span class="number">1</span></span><br><span class="line">    numTails = numFlips - numHeads</span><br><span class="line">    <span class="keyword">return</span> (numHeads, numTails)</span><br><span class="line">    </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">flipPlot1</span>(<span class="params">minExp, maxExp, numTrials</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Assumes minExp and maxExp positive ints; minExp &lt; maxExp</span></span><br><span class="line"><span class="string">         numTrials a positive integer</span></span><br><span class="line"><span class="string">       Plots summaries of results of numTrials trials of</span></span><br><span class="line"><span class="string">         2**minExp to 2**maxExp coin flips&quot;&quot;&quot;</span></span><br><span class="line">    ratiosMeans, diffsMeans, ratiosSDs, diffsSDs = [], [], [], []</span><br><span class="line">    xVals = []</span><br><span class="line">    <span class="keyword">for</span> exp <span class="keyword">in</span> <span class="built_in">range</span>(minExp, maxExp + <span class="number">1</span>):</span><br><span class="line">        xVals.append(<span class="number">2</span>**exp)</span><br><span class="line">    <span class="keyword">for</span> numFlips <span class="keyword">in</span> xAxis:</span><br><span class="line">        ratios = []</span><br><span class="line">        diffs = []</span><br><span class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">range</span>(numTrials):</span><br><span class="line">            numHeads, numTails = runTrial(numFlips)</span><br><span class="line">            ratios.append(numHeads/<span class="built_in">float</span>(numTails))</span><br><span class="line">            diffs.append(<span class="built_in">abs</span>(numHeads - numTails))</span><br><span class="line">        ratiosMeans.append(<span class="built_in">sum</span>(ratios)/<span class="built_in">float</span>(numTrials))</span><br><span class="line">        diffsMeans.append(<span class="built_in">sum</span>(diffs)/<span class="built_in">float</span>(numTrials))</span><br><span class="line">        ratiosSDs.append(stdDev(ratios))</span><br><span class="line">        diffsSDs.append(stdDev(diffs))</span><br><span class="line">    numTrialsString = <span class="string">&#x27; (&#x27;</span> + <span class="built_in">str</span>(numTrials) + <span class="string">&#x27; Trials)&#x27;</span></span><br><span class="line">    title = <span class="string">&#x27;Mean Heads/Tails Ratios&#x27;</span> + numTrialsString</span><br><span class="line">    makePlot(xVals, ratiosMeans, title,</span><br><span class="line">            <span class="string">&#x27;Number of flips&#x27;</span>, <span class="string">&#x27;Mean Heads/Tails&#x27;</span>, <span class="string">&#x27;bo&#x27;</span>, logX = <span class="literal">True</span>)</span><br><span class="line">    title = <span class="string">&#x27;SD Heads/Tails Ratios&#x27;</span> + numTrialsString</span><br><span class="line">    makePlot(xVals, ratiosSDs, title,</span><br><span class="line">            <span class="string">&#x27;Number of Flips&#x27;</span>, <span class="string">&#x27;Standard Deviation&#x27;</span>, <span class="string">&#x27;bo&#x27;</span>,</span><br><span class="line">            logX = <span class="literal">True</span>, logY = <span class="literal">True</span>)</span><br><span class="line">        </span><br><span class="line">    title = <span class="string">&#x27;Mean abs(#Heads - #Tails)&#x27;</span> + numTrialsString </span><br><span class="line">    makePlot(xVals, diffsMeans, title, </span><br><span class="line">            <span class="string">&#x27;Number of Flips&#x27;</span>, <span class="string">&#x27;Mean abs(#Heads - #Tails)&#x27;</span>, <span class="string">&#x27;bo&#x27;</span>, </span><br><span class="line">            logX = <span class="literal">True</span>, logY = <span class="literal">True</span>) </span><br><span class="line">    title = <span class="string">&#x27;SD abs(#Heads - #Tails)&#x27;</span> + numTrialsString </span><br><span class="line">    makePlot(xVals, diffsSDs, title,</span><br><span class="line">            <span class="string">&#x27;Number of Flips&#x27;</span>, <span class="string">&#x27;Standard Deviation&#x27;</span>, <span class="string">&#x27;bo&#x27;</span>,</span><br><span class="line">            logX = <span class="literal">True</span>, logY = <span class="literal">True</span>)</span><br><span class="line">    </span><br><span class="line">    flipPlot1(<span class="number">4</span>, <span class="number">20</span>, <span class="number">20</span>)</span><br></pre></td></tr></table></figure>
  <img src="https://i.imgur.com/XxwLx54.jpg" style="width:600px"/>
  <img src="https://i.imgur.com/RyEMdQ3.jpg" style="width:600px"/>
</li>
<li>
<p>Conclusion</p>
<ul>
<li>The ratio heads/tails is converging towards 1 and log of standard deviation is falling linearly with the log of the number of flips per trail.</li>
<li>By the time we get to about 10^6 coin flips per trail, the standard deviation is roughly three decimal orders of magnitude smaller than the mean.</li>
<li>As we flip more coins, not only do we have a more precise answer, but more important, we also have reason to be more confident that it is close to the right answer.</li>
<li>The absolute difference between the numbers of heads and tails grows with the number of flips. Talk more in next section.</li>
</ul>
</li>
</ul>
<h4 id="the-absolute-difference-between-heads-and-tails-gamblers-fallacy"><a class="markdownIt-Anchor" href="#the-absolute-difference-between-heads-and-tails-gamblers-fallacy"></a> The absolute difference between heads and tails (gambler’s fallacy)</h4>
<ul>
<li><strong>coefficient of variation</strong> is the standard deviation divided by the mean, commonly used in fields such as engineering or physics when doing quality assurance studies. In general, distributions with a coefficient of variation of less than 1 are considered low-variance.
<ul>
<li>For example, the expression “The standard deviation is 15% of the mean” is a CV.</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Page 163, Figure 12.7</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">CV</span>(<span class="params">X</span>):</span><br><span class="line">    mean = <span class="built_in">sum</span>(X)/<span class="built_in">float</span>(<span class="built_in">len</span>(X))</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">return</span> stdDev(X)/mean</span><br><span class="line">    <span class="keyword">except</span> ZeroDivisionError:</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">float</span>(<span class="string">&#x27;nan&#x27;</span>)</span><br><span class="line">   </span><br><span class="line"><span class="comment">#Page 164, Figure 12.8</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">flipPlot1</span>(<span class="params">minExp, maxExp, numTrials</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Assumes minExp and maxExp positive ints; minExp &lt; maxExp</span></span><br><span class="line"><span class="string">         numTrials a positive integer</span></span><br><span class="line"><span class="string">       Plots summaries of results of numTrials trials of</span></span><br><span class="line"><span class="string">         2**minExp to 2**maxExp coin flips&quot;&quot;&quot;</span></span><br><span class="line">    ratiosMeans, diffsMeans, ratiosSDs, diffsSDs = [], [], [], []</span><br><span class="line">    ratiosCVs, diffsCVs = [], []</span><br><span class="line">    xAxis = []</span><br><span class="line">    <span class="keyword">for</span> exp <span class="keyword">in</span> <span class="built_in">range</span>(minExp, maxExp + <span class="number">1</span>):</span><br><span class="line">        xAxis.append(<span class="number">2</span>**exp)</span><br><span class="line">    <span class="keyword">for</span> numFlips <span class="keyword">in</span> xAxis:</span><br><span class="line">        ratios = []</span><br><span class="line">        diffs = []</span><br><span class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">range</span>(numTrials):</span><br><span class="line">            numHeads, numTails = runTrial(numFlips)</span><br><span class="line">            ratios.append(numHeads/<span class="built_in">float</span>(numTails))</span><br><span class="line">            diffs.append(<span class="built_in">abs</span>(numHeads - numTails))</span><br><span class="line">        ratiosMeans.append(<span class="built_in">sum</span>(ratios)/<span class="built_in">float</span>(numTrials))</span><br><span class="line">        diffsMeans.append(<span class="built_in">sum</span>(diffs)/<span class="built_in">float</span>(numTrials))</span><br><span class="line">        ratiosSDs.append(stdDev(ratios))</span><br><span class="line">        diffsSDs.append(stdDev(diffs))</span><br><span class="line">        ratiosCVs.append(CV(ratios))</span><br><span class="line">        diffsCVs.append(CV(diffs))</span><br><span class="line">    numTrialsString = <span class="string">&#x27; (&#x27;</span> + <span class="built_in">str</span>(numTrials) + <span class="string">&#x27; Trials)&#x27;</span></span><br><span class="line">    title = <span class="string">&#x27;Mean Heads/Tails Ratios&#x27;</span> + numTrialsString</span><br><span class="line">    makePlot(xAxis, ratiosMeans, title,</span><br><span class="line">             <span class="string">&#x27;Number of flips&#x27;</span>, <span class="string">&#x27;Mean Heads/Tails&#x27;</span>, <span class="string">&#x27;bo&#x27;</span>, logX = <span class="literal">True</span>)</span><br><span class="line">    title = <span class="string">&#x27;SD Heads/Tails Ratios&#x27;</span> + numTrialsString</span><br><span class="line">    makePlot(xAxis, ratiosSDs, title,</span><br><span class="line">             <span class="string">&#x27;Number of Flips&#x27;</span>, <span class="string">&#x27;Standard Deviation&#x27;</span>, <span class="string">&#x27;bo&#x27;</span>,</span><br><span class="line">             logX = <span class="literal">True</span>, logY = <span class="literal">True</span>)</span><br><span class="line">    title = <span class="string">&#x27;Mean abs(#Heads - #Tails)&#x27;</span> + numTrialsString</span><br><span class="line">    makePlot(xAxis, diffsMeans, title,</span><br><span class="line">         <span class="string">&#x27;Number of Flips&#x27;</span>, <span class="string">&#x27;Mean abs(#Heads - #Tails)&#x27;</span>, <span class="string">&#x27;bo&#x27;</span>,</span><br><span class="line">         logX = <span class="literal">True</span>, logY = <span class="literal">True</span>)</span><br><span class="line">    title = <span class="string">&#x27;SD abs(#Heads - #Tails)&#x27;</span> + numTrialsString</span><br><span class="line">    makePlot(xAxis, diffsSDs, title,</span><br><span class="line">         <span class="string">&#x27;Number of Flips&#x27;</span>, <span class="string">&#x27;Standard Deviation&#x27;</span>, <span class="string">&#x27;bo&#x27;</span>,</span><br><span class="line">         logX = <span class="literal">True</span>, logY = <span class="literal">True</span>)</span><br><span class="line">    title = <span class="string">&#x27;Coeff. of Var. abs(#Heads - #Tails)&#x27;</span> + numTrialsString</span><br><span class="line">    makePlot(xAxis, diffsCVs, title, <span class="string">&#x27;Number of Flips&#x27;</span>,</span><br><span class="line">             <span class="string">&#x27;Coeff. of Var.&#x27;</span>, <span class="string">&#x27;bo&#x27;</span>, logX = <span class="literal">True</span>)</span><br><span class="line">    title = <span class="string">&#x27;Coeff. of Var. Heads/Tails Ratio&#x27;</span> + numTrialsString</span><br><span class="line">    makePlot(xAxis, ratiosCVs, title, <span class="string">&#x27;Number of Flips&#x27;</span>,</span><br><span class="line">             <span class="string">&#x27;Coeff. of Var.&#x27;</span>, <span class="string">&#x27;bo&#x27;</span>, logX = <span class="literal">True</span>, logY = <span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<img src="https://i.imgur.com/XU5mKZc.jpg" style="width:600px"/>
<ul>
<li>Conclusion
<ul>
<li>the plot of coefficient of variation for the heads/tails ratio is not much different from the plot of the standard deviation, cause the mean is close to 1.</li>
<li><strong>dispersion</strong> in the values of <code>abs(heads – tails)</code> is independent of the number of flips. As the numbers of tails goes up, the mean of <code>abs(heads – tails)</code> also keep growing, which proves <strong>Gambler’s Fallacy</strong> that <code>abs(heads – tails)</code> will never be even, only gets bigger.</li>
</ul>
</li>
</ul>
<h3 id="distributions"><a class="markdownIt-Anchor" href="#distributions"></a> Distributions</h3>
<ul>
<li>
<p>A <strong>histogram</strong> is a plot designed to show the distribution of values in a set of data.</p>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vals = [<span class="number">1</span>, <span class="number">200</span>] <span class="comment">#guarantee that values will range from 1 to 200 for i in range(1000):</span></span><br><span class="line">num1 = random.choice(<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">100</span>))</span><br><span class="line">num2 = random.choice(<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">100</span>))</span><br><span class="line">vals.append(num1+num2) </span><br><span class="line">pylab.hist(vals, bins = <span class="number">10</span>)</span><br></pre></td></tr></table></figure>
  <img src="https://i.imgur.com/tWdEMxQ.jpg" style="width:300px"/>
</li>
</ul>
<h4 id="normal-distributions-and-confidence-levels"><a class="markdownIt-Anchor" href="#normal-distributions-and-confidence-levels"></a> Normal Distributions and Confidence Levels</h4>
<ul>
<li>
<p>formula of normal distribution: <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mrow><mi>σ</mi><msqrt><mrow><mn>2</mn><mi>π</mi></mrow></msqrt></mrow></mfrac><mo>∗</mo><msup><mi>e</mi><mrow><mo>−</mo><mfrac><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>−</mo><mi>μ</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><mrow><mn>2</mn><msup><mi>σ</mi><mn>2</mn></msup></mrow></mfrac></mrow></msup></mrow><annotation encoding="application/x-tex">f(x)=\frac{1}{\sigma\sqrt{2\pi}}*e^{-\frac{(x-\mu)^2}{2\sigma^2}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.383108em;vertical-align:-0.5379999999999999em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.5510085em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">σ</span><span class="mord sqrt mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.912845em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mtight" style="padding-left:0.833em;"><span class="mord mtight">2</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">π</span></span></span><span style="top:-2.872845em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail mtight" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,
-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,
-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,
35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,
-221c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467
s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422
s-65,47,-65,47z M834 80H400000v40H845z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.12715500000000002em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5379999999999999em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.32909em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.32909em;"><span style="top:-3.4534200000000004em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.250957142857143em;"><span style="top:-2.5061857142857145em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9384399999999999em;"><span style="top:-2.93844em;margin-right:0.1em;"><span class="pstrut" style="height:2.64444em;"></span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.2255000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.5020714285714285em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight">x</span><span class="mbin mtight">−</span><span class="mord mathdefault mtight">μ</span><span class="mclose mtight"><span class="mclose mtight">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.04844em;"><span style="top:-3.04844em;margin-right:0.1em;"><span class="pstrut" style="height:2.64444em;"></span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.49381428571428565em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span></span></span></span>  ( μ is the mean, σ the standard deviation)</p>
</li>
<li>
<p>Normal distributions are frequently used in constructing probabilistic models for three reasons:</p>
<ol>
<li>they have nice mathematical properties,</li>
<li>many naturally occurring distributions are indeed close to normal</li>
<li>they can be used to produce <strong>confidence intervals</strong>.
<ul>
<li>a confidence interval provides a range that is likely to contain the unknown value and a confidence that the unknown value lays within that range.</li>
</ul>
</li>
</ol>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">flip</span>(<span class="params">numFlips</span>):</span><br><span class="line">heads = <span class="number">0.0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(numFlips):</span><br><span class="line">    <span class="keyword">if</span> random.random() &lt; <span class="number">0.5</span>:</span><br><span class="line">        heads += <span class="number">1</span></span><br><span class="line"><span class="keyword">return</span> heads/numFlips</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">flipSim</span>(<span class="params">numFlipsPerTrial, numTrials</span>):</span><br><span class="line">    fracHeads = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(numTrials):</span><br><span class="line">        fracHeads.append(flip(numFlipsPerTrial))</span><br><span class="line">    mean = <span class="built_in">sum</span>(fracHeads)/<span class="built_in">len</span>(fracHeads)</span><br><span class="line">    sd = stdDev(fracHeads)</span><br><span class="line">    <span class="keyword">return</span> (fracHeads, mean, sd)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">labelPlot</span>(<span class="params">numFlips, numTrials, mean, sd</span>):</span><br><span class="line">    pylab.title(<span class="built_in">str</span>(numTrials) + <span class="string">&#x27; trials of &#x27;</span></span><br><span class="line">                + <span class="built_in">str</span>(numFlips) + <span class="string">&#x27; flips each&#x27;</span>)</span><br><span class="line">    pylab.xlabel(<span class="string">&#x27;Fraction of Heads&#x27;</span>)</span><br><span class="line">    pylab.ylabel(<span class="string">&#x27;Number of Trials&#x27;</span>)</span><br><span class="line">    xmin, xmax = pylab.xlim()</span><br><span class="line">    ymin, ymax = pylab.ylim()</span><br><span class="line">    pylab.text(xmin + (xmax-xmin)*<span class="number">0.02</span>, (ymax-ymin)/<span class="number">2</span>,</span><br><span class="line">               <span class="string">&#x27;Mean = &#x27;</span> + <span class="built_in">str</span>(<span class="built_in">round</span>(mean, <span class="number">4</span>))</span><br><span class="line">               + <span class="string">&#x27;\nSD = &#x27;</span> + <span class="built_in">str</span>(<span class="built_in">round</span>(sd, <span class="number">4</span>)), size=<span class="string">&#x27;x-large&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">makePlots</span>(<span class="params">numFlips1, numFlips2, numTrials</span>):</span><br><span class="line">    val1, mean1, sd1 = flipSim(numFlips1, numTrials)</span><br><span class="line">    pylab.hist(val1, bins = <span class="number">20</span>)</span><br><span class="line">    xmin,xmax = pylab.xlim()</span><br><span class="line">    ymin,ymax = pylab.ylim()</span><br><span class="line">    labelPlot(numFlips1, numTrials, mean1, sd1)</span><br><span class="line">    pylab.figure()</span><br><span class="line">    val2, mean2, sd2 = flipSim(numFlips2, numTrials)</span><br><span class="line">    pylab.hist(val2, bins = <span class="number">20</span>)</span><br><span class="line">    pylab.xlim(xmin, xmax)</span><br><span class="line">    labelPlot(numFlips2, numTrials, mean2, sd2)</span><br><span class="line"></span><br><span class="line">random.seed(<span class="number">0</span>)</span><br><span class="line">makePlots(<span class="number">100</span>,<span class="number">1000</span>,<span class="number">100000</span>)</span><br></pre></td></tr></table></figure>
  <img src="https://i.imgur.com/HDvBX8A.jpg" style="width:600px"/>
</li>
<li>
<p><strong>empirical rule</strong> for normal distributions:</p>
<ul>
<li>68% of the data will fall within 1 standard deviation of the mean,</li>
<li>95% of the data will fall within 2 standard deviations of the mean,</li>
<li>99.7% of the data will fall within 3 standard deviations of the mean.</li>
</ul>
</li>
<li>
<p>For example:</p>
<ul>
<li>a political poll might indicate that a candidate is likely to get 52% of the vote ±4% (i.e., the confidence interval is of size 8) with a confidence level of 95%. What this means is that the pollster believes that 95% of the time the candidate will receive between 48% and 56% of the vote.
<ul>
<li><code>95%</code>: 2 standard deviation</li>
<li><code>52%</code>: i.e. 0.52, the mean</li>
<li><code>4%</code>: i.e. 0.04. 1 standard deviation is 0.02</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Normal distributions can be easily generated by calling <code>random.gauss(mu, sigma)</code>, which returns a randomly chosen floating point number from a normal distribution with mean <code>mu</code> and standard deviation <code>sigma</code>.</p>
<ul>
<li>the function <code>gauss</code> is short for <code>Gaussian Distribution</code> which is the same as <code>Normal Distribution</code>.</li>
</ul>
</li>
</ul>
<h4 id="extension"><a class="markdownIt-Anchor" href="#extension"></a> Extension</h4>
<ul>
<li>Uniform Distribution
<ul>
<li>If one were to plot the probability of each possible lottery number being chosen, it would be a flat line. Such distributions are called uniform.</li>
</ul>
</li>
<li>Exponential and Geometric Distributions
<ul>
<li>check page 173 for more details</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Benford%27s_law">Benford’s Distribution</a></li>
</ul>
<h2 id="words"><a class="markdownIt-Anchor" href="#words"></a> Words</h2>
<ul>
<li>Law of Large Number 大数定律</li>
<li>Gambler’s Fallacy 赌徒谬误</li>
<li>Coefficient of Variation 变异系数</li>
<li>Gaussian Distribution 高斯分布</li>
</ul>

</div>


  <div class="book-comments">
    




  </div>



<script src="/js/book-post.js"></script>


<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>

<!-- To automatically render math in text elements, include the auto-render extension: -->
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
            delimiters: [
                {left: "$$", right: "$$", display: true},
                {left: "$", right: "$", display: false}
            ]
        });
    });
</script>

        </div>
      </div>
      <div class="column col-2 hide-lg">
        <div class="book-post-info">
  
    <div class="book-post-meta">
  
  <div class="divider"></div>
</div>

  

  <div class="book-tocbot">
</div>
<div class="book-tocbot-menu">
  <a class="book-toc-expand" onclick="expand_toc()">Expand all</a>
  <a onclick="go_top()">Back to top</a>
  <a onclick="go_bottom()">Go to bottom</a>
</div>


<script src="/js/book-toc.js"></script>

</div>

      </div>
    </div>
  </div>
  
  <a class="off-canvas-overlay" onclick="hide_canvas()"></a>
</div>

</body>
</html>


<script src="/js/book.js"></script>
