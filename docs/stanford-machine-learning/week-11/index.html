<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">

    
      <link rel="icon" href="/favicon.png" />
    

    <title>
        
          Eric&#39;s CS Notes
        
    </title>

    <!-- Spectre.css framework -->
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre.min.css">
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-exp.min.css">
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-icons.min.css">

    <!-- theme css & js -->
    
<link rel="stylesheet" href="/css/book.css">

    
<script src="/js/book.js"></script>


    <!-- tocbot -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css">
    
    <!-- katex -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">

    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/zooming/2.1.1/zooming.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    const zooming = new Zooming()
    zooming.listen('.book-content img')
})
</script>

<meta name="generator" content="Hexo 6.0.0"></head>


<body>

<div class="book-container">
  <div class="book-sidebar">
    <div class="book-brand">
  <a href="/">
    <img src="/favicon.png">
    <span>ERIC&#39;S CS NOTES</span>
  </a>
</div>

    <div class="book-menu">
  
</div>


<script src="/js/book-menu.js"></script>

  </div>

  <div class="sidebar-toggle" onclick="sidebar_toggle()" onmouseover="add_inner()" onmouseleave="remove_inner()">
  <div class="sidebar-toggle-inner"></div>
</div>

<script>
function add_inner() {
  let inner = document.querySelector('.sidebar-toggle-inner')
  inner.classList.add('show')  
}

function remove_inner() {
  let inner = document.querySelector('.sidebar-toggle-inner')
  inner.classList.remove('show')
}

function sidebar_toggle() {
    let sidebar_toggle = document.querySelector('.sidebar-toggle')
    let sidebar = document.querySelector('.book-sidebar')
    let content = document.querySelector('.off-canvas-content')
    if (sidebar_toggle.classList.contains('extend')) { // show
        sidebar_toggle.classList.remove('extend')
        sidebar.classList.remove('hide')
        content.classList.remove('extend')
    }
    else { // hide
        sidebar_toggle.classList.add('extend')
        sidebar.classList.add('hide')
        content.classList.add('extend')
    }
}
</script>

  <div class="off-canvas-content">
    <div class="columns">
      <div class="column col-10 col-lg-12">
        <div class="book-navbar">
          <!-- For Responsive Layout -->

<header class="navbar">
  <section class="navbar-section">
    <a onclick="open_sidebar()">
      <i class="icon icon-menu"></i>
    </a>
  </section>
</header>

        </div>
        <div class="book-content">
          <div class="book-post">
  <h1 id="week-11-application-example-photo-ocr"><a class="markdownIt-Anchor" href="#week-11-application-example-photo-ocr"></a> Week 11 - Application Example: Photo OCR</h1>
<h2 id="problem-description-and-pipeline"><a class="markdownIt-Anchor" href="#problem-description-and-pipeline"></a> Problem Description and Pipeline</h2>
<ul>
<li>Photo OCR: Photo Optical Character Recognition.</li>
<li>Photo OCR Pipeline(a machine learning pipeline):
<ul>
<li>
<img src="https://i.imgur.com/xRLqcUu.jpg" style="width:500px" />
</li>
<li>
<img src="https://i.imgur.com/QlpKisR.jpg" style="width:500px" />
</li>
</ul>
</li>
<li><strong>Pipelines</strong> are common terms in machine learning
<ul>
<li>Separate modules which may each be a machine learning component or data processing component</li>
</ul>
</li>
</ul>
<h3 id="sliding-windows-classifier"><a class="markdownIt-Anchor" href="#sliding-windows-classifier"></a> Sliding Windows Classifier</h3>
<ul>
<li>In order to talk about detecting things in images let’s start with a simpler example of <strong>pedestrian detection</strong>.
<ul>
<li>
<img src="https://i.imgur.com/Qz19sbN.jpg" style="width:300px" />
</li>
</ul>
</li>
</ul>
<h4 id="supervised-learning-for-pedestrian-detection"><a class="markdownIt-Anchor" href="#supervised-learning-for-pedestrian-detection"></a> Supervised Learning for Pedestrian Detection</h4>
<ul>
<li>
<p>Given the training set:</p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span> = pixels in 82x36 image patches</li>
<li>
<img src="https://i.imgur.com/GcSVSY5.jpg" style="width:500px" />
</li>
</ul>
</li>
<li>
<p>Now we have a new image - how do we find pedestrians in it?</p>
<ul>
<li>
<img src="https://i.imgur.com/btQ6fVk.jpg" style="width:400px" />
  * Start by taking a rectangular 82x36 patch in the image
  * Keep stepping rectangle along all the way to the right with 4 pixels/step(always 5-8 pixels).
  * Then move back to the left hand side but step down a bit too. 
  * Keep the steps until the last line.
</li>
<li>
<img src="https://i.imgur.com/HGNbQ3O.jpg" style="width:400px" />
  * Now we initially start with a larger image patch (of the same aspect ratio)
  * Each time we process the image patch, we're resizing the larger patch to a smaller image, then running that smaller image through the classifier.
</li>
<li>Hopefully, we will eventually get this:
<ul>
<li>
<img src="https://i.imgur.com/qtbi8wo.jpg" style="width:400px" />
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Back to Text Detection</strong></p>
<ul>
<li>
<img src="https://i.imgur.com/Op8qKI2.jpg" style="width:400px" />
</li>
<li>Like pedestrian detection, we generate a labeled training set with
<ul>
<li>Positive examples (some kind of text)</li>
<li>Negative examples (not text)</li>
</ul>
</li>
<li>Having trained the classifier we apply it to an image
<ul>
<li>So, run a sliding window classifier at a fixed rectangle size</li>
<li>If you do that end up with something like this
<ul>
<li>
<img src="https://i.imgur.com/EMaa7JV.jpg" style="width:300px" />
</li>
<li>Black - no text</li>
<li>White - text</li>
</ul>
</li>
<li>For text detection, we want to draw rectangles around all the regions where there is text in the image</li>
<li>Take classifier output and apply an <strong>expansion algorithm</strong>
<ul>
<li>Takes each of white regions and expands it</li>
<li>
<img src="https://i.imgur.com/Dzi5PAY.jpg" style="width:300px" />
</li>
</ul>
</li>
<li>Look at connected white regions in the image above</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="character-segmentation"><a class="markdownIt-Anchor" href="#character-segmentation"></a> Character Segmentation</h3>
<ul>
<li>Look in a defined image patch and decide, is there a split between two characters?</li>
<li>
<img src="https://i.imgur.com/SUIdnxJ.jpg" style="width:500px" />
</li>
<li>Train a classifier to classify between positive and negative examples</li>
<li>Use a 1-dimensional sliding window to move along text regions
<ul>
<li>Does each window snapshot look like the split between two characters?
<ul>
<li>If yes insert a split</li>
<li>If not move on</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="character-classification"><a class="markdownIt-Anchor" href="#character-classification"></a> Character Classification</h3>
<ul>
<li>Multi-class characterization problem</li>
</ul>
<h2 id="getting-lots-of-data-artificial-data-synthesis"><a class="markdownIt-Anchor" href="#getting-lots-of-data-artificial-data-synthesis"></a> Getting Lots of Data: Artificial Data Synthesis</h2>
<h3 id="artificial-data-synthesis-for-photo-ocr"><a class="markdownIt-Anchor" href="#artificial-data-synthesis-for-photo-ocr"></a> Artificial Data Synthesis for Photo OCR</h3>
<ol>
<li>Use computer’s font library, or online font libraries. Take different fonts, paste them with random backgrounds</li>
<li>Distort the exist data set
<ul>
<li>
<img src="https://i.imgur.com/vAjuJWG.jpg" style="width:400px" />  
</li>
</ul>
</li>
</ol>
<ul>
<li><strong>Synthesizing data by introducing distortions</strong>: Speech recognition
<ul>
<li>We can add noisy background to the original audio to make it unclear</li>
</ul>
</li>
</ul>
<h2 id="getting-more-data"><a class="markdownIt-Anchor" href="#getting-more-data"></a> Getting More Data</h2>
<ul>
<li>When do we need to get more data?
<ul>
<li>Make sure we have a low bias classifier. (Plot learning curves)</li>
</ul>
</li>
<li>When we really need it, ask ourselves: “How much work would it be to get 10x as much data as we currently have?”
<ul>
<li>Artificial data synthesis<br />
­* Collect/label it yourself</li>
<li>“Crowd source” (E.g. Amazon Mechanical Turk)</li>
</ul>
</li>
</ul>
<h2 id="ceiling-analysis"><a class="markdownIt-Anchor" href="#ceiling-analysis"></a> Ceiling Analysis</h2>
<ul>
<li>Estimating the errors due to each component.</li>
<li>Decide what part of the pipeline we should spend the most time trying to improve.</li>
<li>Take the Photo OCR pipeline as the example:
<ul>
<li>
<img src="https://i.imgur.com/xRLqcUu.jpg" style="width:500px" />
</li>
<li>We find that our test set has 72% accuracy.</li>
<li>Steps:
<ol>
<li>Go to the first module - Text detection. Manually tell the algorithm where the text is.
<ul>
<li>Simulate if your text detection system was 100% accurate</li>
<li>Check how this change affects the accuracy of the overall system.</li>
<li>Accuracy goes up to 89%</li>
</ul>
</li>
<li>Next do the same for the character segmentation
<ul>
<li>Accuracy goes up to 90% now</li>
</ul>
</li>
<li>Finally doe the same for character recognition
<ul>
<li>Goes up to 100%</li>
</ul>
</li>
</ol>
</li>
<li>
<img src="https://i.imgur.com/DXBLm7x.jpg" style="width:400px" />
</li>
<li>Base on the analysis, we know which module to improve.</li>
</ul>
</li>
</ul>
<h2 id="refers"><a class="markdownIt-Anchor" href="#refers"></a> Refers</h2>
<ul>
<li><a target="_blank" rel="noopener" href="http://www.holehouse.org/mlclass/18_Application_Example_OCR.html">http://www.holehouse.org/mlclass/18_Application_Example_OCR.html</a></li>
</ul>

</div>


  <div class="book-comments">
    




  </div>



<script src="/js/book-post.js"></script>


<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>

<!-- To automatically render math in text elements, include the auto-render extension: -->
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
            delimiters: [
                {left: "$$", right: "$$", display: true},
                {left: "$", right: "$", display: false}
            ]
        });
    });
</script>

        </div>
      </div>
      <div class="column col-2 hide-lg">
        <div class="book-post-info">
  
    <div class="book-post-meta">
  
  <div class="divider"></div>
</div>

  

  <div class="book-tocbot">
</div>
<div class="book-tocbot-menu">
  <a class="book-toc-expand" onclick="expand_toc()">Expand all</a>
  <a onclick="go_top()">Back to top</a>
  <a onclick="go_bottom()">Go to bottom</a>
</div>


<script src="/js/book-toc.js"></script>

</div>

      </div>
    </div>
  </div>
  
  <a class="off-canvas-overlay" onclick="hide_canvas()"></a>
</div>

</body>
</html>


<script src="/js/book.js"></script>
